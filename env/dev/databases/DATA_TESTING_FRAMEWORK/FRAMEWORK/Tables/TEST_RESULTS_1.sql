--liquibase formatted sql
				
--changeset CHANDRAMANI:TEST_RESULTS_1 runOnChange:true failOnError:true
--comment test execution result details
create TABLE IF NOT EXISTS TEST_RESULTS (
	TEST_BATCH NUMBER(38,0) NOT NULL COMMENT 'BATCH NUMBER generated by the FRAMEWORK.SP_EXECUTE_TEST_SCRIPT procedure based on YYYYMMDDhhmmss format',
	TEST_BATCH_SEQUENCE_ID NUMBER(38,0) COMMENT 'Sequence of test executed in a test batch group (summary level)',
	TEST_ENVIRONMENT VARCHAR(16777216) NOT NULL COMMENT 'Environment that the test was executed for the provided result',
	TEST_ID VARCHAR(16777216) COMMENT 'TEST_ID number from the test cases run by the TEST_SCRIPTS table used by the FRAMEWORK.SP_EXECUTE_TEST_SCRIPT procedure',
	PARENT_TEST_ID VARCHAR(16777216) COMMENT 'If a PROC runs sub-tests, the proc needs to pass the TEST_ID into this table as the PARENT_TEST_ID and leave the TEST_ID NULL',
	TEST_RESULT VARCHAR(16777216) COMMENT 'TEXT describing the result of the test case execution. Most common values are \"PASS\", \"FAIL\"',
	TEST_MESSAGE_KEY VARCHAR(16777216) COMMENT 'An optional value for details related to the test message value. Initially intended to be the KEY for a KEY/VALUE pair when a test procedure drops sub-test results.',
	TEST_MESSAGE_VALUE VARCHAR(16777216) COMMENT 'Detailed message about the test. Can be general information from the test, or specific success or falure details. Would be the VALUE in a KEY/VALUE pair when a test procedure drops sub-test results.',
	TEST_START_TS TIMESTAMP_NTZ(9) NOT NULL COMMENT 'Timestamp of the test starting',
	TEST_STOP_TS TIMESTAMP_NTZ(9) COMMENT 'Timestamp of the test completing',
	EXECUTED_BY VARCHAR(16777216) NOT NULL DEFAULT CURRENT_USER() COMMENT 'User account that was logged in to execute the test cases'
)COMMENT='Complete history of test execution results (Summary level and detail level when assigned a PARENT_TEST_ID)'
;

	alter table TEST_RESULTS add NEWCOLUMN VARCHAR(16777216);

	--changeset CHANDRAMANI:TEST_RESULTS_2 runOnChange:true failOnError:true
--comment test execution result details 
alter table TEST_RESULTS add NEWCOLUMN2 VARCHAR(16777216);